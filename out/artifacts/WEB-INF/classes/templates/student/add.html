<html xmlns:th="http://www.thymeleaf.org" xmlns:layout="http://www.ultraq.net.nz/web/thymeleaf/layout"
      layout:decorator="index.html">


    <!-- start: Content -->
    <div layout:fragment="content" class="main ">//映射到layout

        <div class="row">
            <div class="col-lg-12">
                <ol class="breadcrumb">
                    <li><i class="fa fa-home"></i><a href="../index.html">主页</a></li>

                    <li><i class="fa fa-indent"></i>添加学生信息</li>
                </ol>
            </div>
        </div>

        <div class="row">
            <div class="col-lg-12">
                <div class="panel panel-default">
                    <div class="panel-heading">
                        <h2><i class="fa fa-indent red"></i><strong>添加学生信息</strong></h2>
                    </div>
                    <div class="panel-body">
                        <form id="modularForm" action="" method="post" enctype="multipart/form-data" class="form-horizontal ">

                            <div class="form-group">
                                <label class="col-md-3 control-label" for="text-input">姓名</label>
                                <div class="col-md-9">
                                    <input type="text" id="text-input" name="name" class="form-control" placeholder="姓名">
                                    <span class="help-block">请输入姓名</span>
                                </div>
                            </div>

                            <div class="form-group">
                                <label class="col-md-3 control-label" for="text-input">年龄</label>
                                <div class="col-md-9">
                                    <input type="text" id="text-input" name="age" class="form-control" placeholder="年龄">
                                    <span class="help-block">请输入年龄</span>
                                </div>
                            </div>

                            <div class="form-group">
                                <label class="col-md-3 control-label" for="text-input">测试session</label>
                                <div class="col-md-9">
                                    <input type="text" id="text-input"  class="form-control" placeholder="测试session" th:value="${session.username}">
                                    <span class="help-block"></span>


                                    <input type="text" id="doc-input">
                                    <button  type="button" onclick="testText()">验证</button>


                                </div>
                            </div>



                            <p id="textDoc" >修改的内容</p>
                            <button type="button"  onclick="display()">修改内容</button>


                            <br>

                    </div>
                    <div class="panel-footer">
                        <button id="submitBtn" type="button" class="btn btn-sm btn-success"><i class="fa fa-dot-circle-o"></i> 提交</button>
                        <button type="reset" class="btn btn-sm btn-danger"><i class="fa fa-ban"></i>重置</button>
                    </div>
                    </form>
                </div>
            </div>


        </div><!--/.row-->


        <script>
            function display(){
                document.getElementById("textDoc").innerHTML="HelloWord!";
            }


            function testText(){
                const x = document.getElementById("doc-input").value;
                if(/[1-9]/.test(x))
                {
                    alert("成功！");
                }
                else alert("错误！");
            }

            $("#submitBtn").click(function () {
                $.ajax({
                    url:'add',
                    type:'post',
                    data:$('#modularForm').serialize(),
                    success:function (data) {
                        layer.msg("添加成功");
                        setTimeout(function () {
                            window.location = ("student")
                        },1500);
                    }
                })
            })



        </script>

    </div>




    <!-- end: Content -->

